# validation/cases/analytic/frozen_flux.yaml
name: frozen_flux
description: "Circular advection of magnetic loop (Rm >> 1)"

configuration:
  class: FrozenFluxConfiguration
  overrides:
    model_type: resistive_mhd
    loop_amplitude: 1.0
    loop_radius: 0.3
    eta: 1.0e-8

runtime:
  t_end: 0.25  # Quarter rotation
  dt: 1.0e-3

reference:
  type: analytic
  description: "Magnetic loop rotated by angle theta = omega * t"
  formula: "config.analytic_solution(geometry, t)"
  variables:
    - config
    - geometry
    - t

acceptance:
  quantitative:
    - metric: l2_error
      field: B
      threshold: 0.35
      description: "Relative L2 error vs analytic solution (quarter rotation)"
    - metric: peak_amplitude_ratio
      threshold: 0.75
      description: "Peak |B| preserved within 75%"

output:
  plots:
    - type: contour
      name: B_magnitude
      plane: xy
      field: B_magnitude
  html_report: true
  log_level: INFO
