# validation/cases/analytic/frozen_flux.yaml
name: frozen_flux
description: "Frozen-in magnetic flux advection (Rm >> 1)"

configuration:
  class: FrozenFluxConfiguration
  overrides:
    model_type: resistive_mhd
    B_phi_0: 1.0
    v_r: 0.1
    eta: 1.0e-8

runtime:
  t_end: 1.0
  dt: 1.0e-3

reference:
  type: analytic
  description: "Frozen-in flux with uniform advection: B_y is constant"
  formula: "B_phi_0 * jnp.ones_like(x)"
  variables:
    - B_phi_0
    - x

acceptance:
  quantitative:
    - metric: l2_error
      field: B_y
      threshold: 0.01
      description: "Relative L2 error vs analytic solution (uniform field)"
    - metric: flux_conservation
      threshold: 0.01
      description: "Toroidal flux conserved within 1%"

output:
  plots:
    - type: profiles
      name: By_evolution
      axis: x
      field: B_y
  html_report: true
  log_level: INFO
